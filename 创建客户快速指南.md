# ğŸ¯ åˆ›å»ºå®¢æˆ·å¿«é€ŸæŒ‡å—

## âœ… é—®é¢˜å·²ä¿®å¤
åˆ›å»ºå®¢æˆ·500é”™è¯¯å·²å®Œå…¨ä¿®å¤ï¼ç°åœ¨å¯ä»¥æ­£å¸¸åˆ›å»ºå®¢æˆ·äº†ã€‚

## ğŸš€ å¦‚ä½•åˆ›å»ºå®¢æˆ·

### æ–¹æ³•1ï¼šå‰ç«¯ç•Œé¢æ“ä½œï¼ˆæ¨èï¼‰

1. **ç™»å½•ç³»ç»Ÿ**
   - è®¿é—®ï¼šhttp://localhost:9527
   - è´¦å·ï¼šadmin
   - å¯†ç ï¼šadmin123

2. **è¿›å…¥åˆ›å»ºé¡µé¢**
   - ç‚¹å‡»ä¾§è¾¹æ ï¼šç”¨æˆ·ç®¡ç† â†’ å®¢æˆ·ç®¡ç†
   - ç‚¹å‡»"åˆ›å»º"æŒ‰é’®
   - æˆ–ç›´æ¥è®¿é—®ï¼šhttp://localhost:9527/#/user/customer/create

3. **å¡«å†™å®¢æˆ·ä¿¡æ¯**
   ```
   ä»£ç†åç§°: [é€‰æ‹© KL01 æˆ– ç³»ç»Ÿç®¡ç†å‘˜]
   å®¢æˆ·åç§°: å¼ ä¸‰å…¬å¸
   ç™»å½•è´¦å·: zhangsan001
   ç™»å½•å¯†ç : 123456
   é‚®ç®±: zhangsan@example.com
   é”€å”®ä»·æ¯”ä¾‹: 1.0 (å¯é€‰ï¼Œé»˜è®¤1.0)
   è´¦æˆ·ä½™é¢: 0 (å¯é€‰ï¼Œé»˜è®¤0)
   é€æ”¯é‡‘é¢: 0 (å¯é€‰ï¼Œé»˜è®¤0)
   çŠ¶æ€: æ¿€æ´»
   å¤‡æ³¨: å¯é€‰
   ```

4. **æäº¤**
   - ç‚¹å‡»"ä¿å­˜"æŒ‰é’®
   - ç­‰å¾…æç¤º"åˆ›å»ºæˆåŠŸ"
   - è‡ªåŠ¨è·³è½¬åˆ°å®¢æˆ·åˆ—è¡¨

### æ–¹æ³•2ï¼šAPIç›´æ¥è°ƒç”¨

```bash
curl -X POST http://localhost:3000/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "loginAccount": "customer001",
    "loginPassword": "123456",
    "customerName": "æµ‹è¯•å®¢æˆ·",
    "email": "customer001@example.com",
    "agentId": "3",
    "agentName": "KL01",
    "salePriceRate": 1.0,
    "accountBalance": 0,
    "overdraftAmount": 0,
    "status": 1,
    "remark": "æµ‹è¯•åˆ›å»º"
  }'
```

### æ–¹æ³•3ï¼šæµ‹è¯•é¡µé¢

1. æ‰“å¼€æµ‹è¯•é¡µé¢ï¼š
   ```bash
   cd /home/vue-element-admin
   # åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
   file:///home/vue-element-admin/test-create-user.html
   ```

2. æˆ–ä½¿ç”¨Python HTTPæœåŠ¡å™¨ï¼š
   ```bash
   cd /home/vue-element-admin
   python -m SimpleHTTPServer 8888
   # è®¿é—®: http://localhost:8888/test-create-user.html
   ```

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### 1. å¿…å¡«å­—æ®µ
- âœ… ç™»å½•è´¦å·ï¼ˆ3-50å­—ç¬¦ï¼Œå”¯ä¸€ï¼‰
- âœ… ç™»å½•å¯†ç ï¼ˆæœ€å°‘6å­—ç¬¦ï¼‰
- âœ… å®¢æˆ·åç§°
- âœ… é‚®ç®±ï¼ˆæœ‰æ•ˆæ ¼å¼ï¼‰
- âœ… ä»£ç†IDï¼ˆå¿…é¡»é€‰æ‹©çœŸå®å­˜åœ¨çš„ä»£ç†ï¼‰

### 2. å¯é€‰å­—æ®µ
- é”€å”®ä»·æ¯”ä¾‹ï¼ˆé»˜è®¤ï¼š1.0ï¼‰
- è´¦æˆ·ä½™é¢ï¼ˆé»˜è®¤ï¼š0.00000ï¼‰
- é€æ”¯é‡‘é¢ï¼ˆé»˜è®¤ï¼š0.00000ï¼‰
- çŠ¶æ€ï¼ˆé»˜è®¤ï¼š1-æ¿€æ´»ï¼‰
- å¤‡æ³¨

### 3. å½“å‰å¯ç”¨ä»£ç†
æŸ¥çœ‹ç°æœ‰ä»£ç†ï¼š
```bash
curl http://localhost:3000/api/agents?page=1&limit=10
```

å½“å‰ç³»ç»Ÿä¸­çš„ä»£ç†ï¼š
- **ID: 3** - KL01 (æ¿€æ´»)
- **ID: 4** - ç³»ç»Ÿç®¡ç†å‘˜ (æ¿€æ´»)

**æ³¨æ„**ï¼šåˆ›å»ºå®¢æˆ·æ—¶å¿…é¡»é€‰æ‹©è¿™äº›IDä¹‹ä¸€ï¼

## ğŸ“Š éªŒè¯åˆ›å»ºç»“æœ

### æŸ¥çœ‹å®¢æˆ·åˆ—è¡¨
```bash
curl http://localhost:3000/api/users?page=1&limit=10
```

### æˆ–åœ¨å‰ç«¯æŸ¥çœ‹
1. ç™»å½•ç³»ç»Ÿ
2. è®¿é—®ï¼šç”¨æˆ·ç®¡ç† â†’ å®¢æˆ·ç®¡ç†
3. æŸ¥çœ‹å®¢æˆ·åˆ—è¡¨

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šæç¤º"è¯·é€‰æ‹©ä»£ç†"
**åŸå› **ï¼šæœªé€‰æ‹©ä»£ç†æˆ–ä»£ç†IDä¸ºç©º  
**è§£å†³**ï¼šä»ä¸‹æ‹‰åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªä»£ç†

### é—®é¢˜2ï¼šæç¤ºå¤–é”®çº¦æŸé”™è¯¯
```
foreign key constraint fails
```
**åŸå› **ï¼šé€‰æ‹©çš„ä»£ç†IDä¸å­˜åœ¨  
**è§£å†³**ï¼šä½¿ç”¨ç°æœ‰ä»£ç†IDï¼ˆ3æˆ–4ï¼‰

### é—®é¢˜3ï¼šæç¤º"ç™»å½•è´¦å·å·²å­˜åœ¨"
```
Duplicate entry for key 'login_account'
```
**åŸå› **ï¼šç™»å½•è´¦å·é‡å¤  
**è§£å†³**ï¼šä½¿ç”¨ä¸åŒçš„ç™»å½•è´¦å·

### é—®é¢˜4ï¼š500é”™è¯¯
**åŸå› **ï¼šåç«¯æœåŠ¡æœªå¯åŠ¨æˆ–å­—æ®µæ ¼å¼é”™è¯¯  
**è§£å†³**ï¼š
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
ps aux | grep "node server.js"

# é‡å¯åç«¯æœåŠ¡ï¼ˆå¦‚éœ€è¦ï¼‰
cd /home/vue-element-admin/backend
kill $(ps aux | grep "node server.js" | grep -v grep | awk '{print $2}')
nohup node server.js > /dev/null 2>&1 &
```

## ğŸ“ ç¤ºä¾‹æ•°æ®

### ç¤ºä¾‹1ï¼šåŸºæœ¬å®¢æˆ·
```json
{
  "loginAccount": "test001",
  "loginPassword": "123456",
  "customerName": "æµ‹è¯•å®¢æˆ·001",
  "email": "test001@example.com",
  "agentId": "3",
  "agentName": "KL01"
}
```

### ç¤ºä¾‹2ï¼šå®Œæ•´å®¢æˆ·ä¿¡æ¯
```json
{
  "loginAccount": "company001",
  "loginPassword": "company@2025",
  "customerName": "æŸæŸç§‘æŠ€æœ‰é™å…¬å¸",
  "email": "contact@company.com",
  "agentId": "3",
  "agentName": "KL01",
  "salePriceRate": 1.2,
  "accountBalance": 1000.00,
  "overdraftAmount": 500.00,
  "status": 1,
  "remark": "VIPå®¢æˆ·ï¼Œäº«å—ä¼˜æƒ ä»·æ ¼"
}
```

## ğŸ‰ ä¿®å¤å®Œæˆ

åˆ›å»ºå®¢æˆ·åŠŸèƒ½ç°å·²**å®Œå…¨æ­£å¸¸**ï¼
- âœ… å­—æ®µæ˜ å°„æ­£ç¡®
- âœ… æ•°æ®ä¿å­˜æˆåŠŸ
- âœ… å‰åç«¯é€šä¿¡æ­£å¸¸
- âœ… å·²æµ‹è¯•éªŒè¯é€šè¿‡

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®¢æˆ·åˆ›å»º500é”™è¯¯ä¿®å¤æŠ¥å‘Š.md](å®¢æˆ·åˆ›å»º500é”™è¯¯ä¿®å¤æŠ¥å‘Š.md)
- [å®¢æˆ·åˆ›å»º500é”™è¯¯ä¿®å¤-æµ‹è¯•éªŒè¯.md](å®¢æˆ·åˆ›å»º500é”™è¯¯ä¿®å¤-æµ‹è¯•éªŒè¯.md)

---
**ä¿®å¤æ—¶é—´**: 2025-10-15  
**ä¿®å¤çŠ¶æ€**: âœ… å®Œæˆ
