<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ•°æ®æ¢å¤ä¸åˆå§‹åŒ–å·¥å…·</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
    .container { max-width: 1200px; margin: 0 auto; }
    .header { text-align: center; color: white; margin-bottom: 30px; }
    .header h1 { font-size: 32px; margin-bottom: 10px; }
    .card { background: white; border-radius: 12px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .card-title { font-size: 20px; font-weight: 600; margin-bottom: 20px; color: #333; border-left: 4px solid #667eea; padding-left: 12px; }
    .btn { padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; margin-right: 10px; }
    .btn:hover { background: #5568d3; }
    .btn-danger { background: #dc3545; }
    .btn-success { background: #28a745; }
    .alert { padding: 15px 20px; border-radius: 8px; margin: 15px 0; }
    .alert-info { background: #d1ecf1; border-left: 4px solid #17a2b8; color: #0c5460; }
    .alert-success { background: #d4edda; border-left: 4px solid #28a745; color: #155724; }
    .alert-danger { background: #f8d7da; border-left: 4px solid #dc3545; color: #721c24; }
    .alert-warning { background: #fff3cd; border-left: 4px solid #ffc107; color: #856404; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
    .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center; }
    .stat-card h3 { font-size: 32px; margin-bottom: 5px; }
    .stat-card p { font-size: 14px; opacity: 0.9; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e0e0e0; }
    th { background: #f8f9fa; font-weight: 600; }
    code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; color: #e83e8c; font-family: monospace; }
    .status-badge { padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 500; }
    .status-active { background: #d4edda; color: #155724; }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: 500; color: #666; }
    .form-group input, .form-group select { width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 6px; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ”§ æ•°æ®æ¢å¤ä¸åˆå§‹åŒ–å·¥å…·</h1>
      <p>æ£€æŸ¥ç³»ç»Ÿæ•°æ®çŠ¶æ€å¹¶åˆå§‹åŒ–å¿…è¦çš„æ•°æ®</p>
    </div>

    <!-- å½“å‰æ•°æ®çŠ¶æ€ -->
    <div class="card">
      <h2 class="card-title">ğŸ“Š å½“å‰æ•°æ®çŠ¶æ€</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <h3 id="userCount">0</h3>
          <p>å®¢æˆ·æ•°é‡</p>
        </div>
        <div class="stat-card">
          <h3 id="agentCount">0</h3>
          <p>ä»£ç†æ•°é‡</p>
        </div>
        <div class="stat-card">
          <h3 id="dataCount">0</h3>
          <p>æ•°æ®åº“è®°å½•</p>
        </div>
        <div class="stat-card">
          <h3 id="orderCount">0</h3>
          <p>è®¢å•æ•°é‡</p>
        </div>
      </div>
      <button class="btn btn-success" onclick="checkDataStatus()">ğŸ” æ£€æŸ¥æ•°æ®çŠ¶æ€</button>
      <button class="btn" onclick="showAllData()">ğŸ“‹ æ˜¾ç¤ºæ‰€æœ‰æ•°æ®</button>
      <div id="statusResult"></div>
    </div>

    <!-- å¿«é€Ÿåˆ›å»ºKL01880V01è´¦æˆ· -->
    <div class="card">
      <h2 class="card-title">âš¡ å¿«é€Ÿåˆ›å»º KL01880V01 è´¦æˆ·</h2>
      <div class="alert alert-info">
        â„¹ï¸ å¦‚æœæ‚¨çš„è´¦æˆ·ä¸¢å¤±ï¼Œå¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½å¿«é€Ÿé‡å»ºè´¦æˆ·å’Œä¸Šä¼ æ•°æ®
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>å®¢æˆ·åç§°</label>
          <input type="text" id="customerName" value="KL01880V01å®¢æˆ·" />
        </div>
        <div class="form-group">
          <label>ç™»å½•è´¦å·</label>
          <input type="text" id="loginAccount" value="KL01880V01" />
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>ç™»å½•å¯†ç </label>
          <input type="text" id="loginPassword" value="123456" />
        </div>
        <div class="form-group">
          <label>é‚®ç®±</label>
          <input type="email" id="email" value="kl01880v01@example.com" />
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>æ‰€å±ä»£ç†</label>
          <select id="agentId">
            <option value="">-- è¯·é€‰æ‹©ä»£ç† --</option>
          </select>
        </div>
        <div class="form-group">
          <label>åˆå§‹ä½™é¢</label>
          <input type="number" id="accountBalance" value="10000" step="100" />
        </div>
      </div>

      <button class="btn btn-success" onclick="createKL01880V01()">âœ… åˆ›å»ºè´¦æˆ·</button>
      <button class="btn" onclick="createWithSampleData()">ğŸ“¦ åˆ›å»ºè´¦æˆ·+ç¤ºä¾‹æ•°æ®</button>
      <div id="createResult"></div>
    </div>

    <!-- åˆå§‹åŒ–ç³»ç»Ÿæ•°æ® -->
    <div class="card">
      <h2 class="card-title">ğŸš€ åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®</h2>
      <div class="alert alert-warning">
        âš ï¸ <strong>æ³¨æ„ï¼š</strong> åˆå§‹åŒ–æ“ä½œä¼šåˆ›å»ºé»˜è®¤çš„ä»£ç†ã€å®¢æˆ·å’Œæ•°æ®åº“è®°å½•ã€‚å¦‚æœæ•°æ®å·²å­˜åœ¨ï¼Œå°†ä¼šè¿½åŠ æ–°æ•°æ®ã€‚
      </div>
      
      <button class="btn btn-success" onclick="initializeSystemData()">ğŸ”§ åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®</button>
      <button class="btn btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰æ•°æ®</button>
      <div id="initResult"></div>
    </div>

    <!-- æ•°æ®è¯¦æƒ… -->
    <div class="card">
      <h2 class="card-title">ğŸ“‹ æ•°æ®è¯¦æƒ…</h2>
      <div id="dataDetails"></div>
    </div>
  </div>

  <script>
    // æ£€æŸ¥æ•°æ®çŠ¶æ€
    function checkDataStatus() {
      const users = JSON.parse(localStorage.getItem('userList') || '[]');
      const agents = JSON.parse(localStorage.getItem('agentList') || '[]');
      const dataLibrary = JSON.parse(localStorage.getItem('dataLibrary') || '[]');
      const orders = JSON.parse(localStorage.getItem('orderList') || '[]');

      document.getElementById('userCount').textContent = users.length;
      document.getElementById('agentCount').textContent = agents.length;
      document.getElementById('dataCount').textContent = dataLibrary.length;
      document.getElementById('orderCount').textContent = orders.length;

      // æ£€æŸ¥KL01880V01è´¦æˆ·
      const kl01880v01 = users.find(u => u.loginAccount === 'KL01880V01');
      
      let statusHtml = '<div style="margin-top: 20px;">';
      
      if (kl01880v01) {
        statusHtml += `
          <div class="alert alert-success">
            âœ… <strong>æ‰¾åˆ° KL01880V01 è´¦æˆ·</strong>
            <br>å®¢æˆ·åç§°: ${kl01880v01.customerName}
            <br>ç™»å½•å¯†ç : <code>${kl01880v01.loginPassword}</code>
            <br>è´¦æˆ·ä½™é¢: ${kl01880v01.accountBalance || 0}
            <br>çŠ¶æ€: <span class="status-badge ${kl01880v01.status === 1 ? 'status-active' : ''}">${kl01880v01.status === 1 ? 'æ¿€æ´»' : 'åœç”¨'}</span>
          </div>
        `;
      } else {
        statusHtml += `
          <div class="alert alert-danger">
            âŒ <strong>æœªæ‰¾åˆ° KL01880V01 è´¦æˆ·</strong>
            <br>å»ºè®®ä½¿ç”¨ä¸‹æ–¹"å¿«é€Ÿåˆ›å»º"åŠŸèƒ½é‡å»ºè´¦æˆ·
          </div>
        `;
      }

      if (agents.length === 0) {
        statusHtml += `
          <div class="alert alert-warning">
            âš ï¸ <strong>ç³»ç»Ÿä¸­æ²¡æœ‰ä»£ç†</strong>
            <br>å»ºè®®å…ˆåˆå§‹åŒ–ç³»ç»Ÿæ•°æ®ï¼Œåˆ›å»ºé»˜è®¤ä»£ç†
          </div>
        `;
      }

      if (dataLibrary.length === 0) {
        statusHtml += `
          <div class="alert alert-warning">
            âš ï¸ <strong>æ•°æ®åº“ä¸ºç©º</strong>
            <br>æ‚¨ä¹‹å‰ä¸Šä¼ çš„æ•°æ®å·²ä¸¢å¤±ï¼Œå»ºè®®ä½¿ç”¨"åˆ›å»ºè´¦æˆ·+ç¤ºä¾‹æ•°æ®"æ¢å¤
          </div>
        `;
      }

      statusHtml += '</div>';
      document.getElementById('statusResult').innerHTML = statusHtml;

      loadAgents();
    }

    // åŠ è½½ä»£ç†åˆ—è¡¨
    function loadAgents() {
      const agents = JSON.parse(localStorage.getItem('agentList') || '[]');
      const select = document.getElementById('agentId');
      select.innerHTML = '<option value="">-- è¯·é€‰æ‹©ä»£ç† --</option>';
      
      agents.forEach(agent => {
        if (agent.status === 1) {
          const option = document.createElement('option');
          option.value = agent.id;
          option.textContent = agent.agentName;
          select.appendChild(option);
        }
      });
    }

    // åˆ›å»ºKL01880V01è´¦æˆ·
    function createKL01880V01() {
      const customerName = document.getElementById('customerName').value;
      const loginAccount = document.getElementById('loginAccount').value;
      const loginPassword = document.getElementById('loginPassword').value;
      const email = document.getElementById('email').value;
      const agentId = document.getElementById('agentId').value;
      const accountBalance = parseFloat(document.getElementById('accountBalance').value);

      if (!customerName || !loginAccount || !loginPassword || !email) {
        alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ');
        return;
      }

      if (!agentId) {
        if (!confirm('æœªé€‰æ‹©ä»£ç†ï¼Œæ˜¯å¦ç»§ç»­åˆ›å»ºï¼Ÿï¼ˆå»ºè®®å…ˆåˆå§‹åŒ–ç³»ç»Ÿæ•°æ®ï¼‰')) {
          return;
        }
      }

      const users = JSON.parse(localStorage.getItem('userList') || '[]');
      
      // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨
      const existing = users.find(u => u.loginAccount === loginAccount);
      if (existing) {
        if (!confirm(`è´¦å· ${loginAccount} å·²å­˜åœ¨ï¼Œæ˜¯å¦æ›´æ–°ä¿¡æ¯ï¼Ÿ`)) {
          return;
        }
        // æ›´æ–°ç°æœ‰è´¦æˆ·
        existing.customerName = customerName;
        existing.loginPassword = loginPassword;
        existing.email = email;
        existing.agentId = agentId;
        existing.accountBalance = accountBalance;
        existing.status = 1;
        localStorage.setItem('userList', JSON.stringify(users));
        
        document.getElementById('createResult').innerHTML = `
          <div class="alert alert-success" style="margin-top: 15px;">
            âœ… <strong>è´¦æˆ·æ›´æ–°æˆåŠŸï¼</strong>
            <br>ç™»å½•è´¦å·: <code>${loginAccount}</code>
            <br>ç™»å½•å¯†ç : <code>${loginPassword}</code>
            <br>è´¦æˆ·ä½™é¢: ${accountBalance}
          </div>
        `;
      } else {
        // åˆ›å»ºæ–°è´¦æˆ·
        const agents = JSON.parse(localStorage.getItem('agentList') || '[]');
        const selectedAgent = agents.find(a => String(a.id) === String(agentId));
        
        const newId = users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1;
        
        const newUser = {
          id: newId,
          loginAccount: loginAccount,
          loginPassword: loginPassword,
          customerName: customerName,
          email: email,
          agentId: agentId,
          agentName: selectedAgent ? selectedAgent.agentName : '',
          salePriceRate: 1,
          accountBalance: accountBalance,
          overdraftAmount: 0,
          status: 1,
          createTime: Date.now(),
          remark: 'é€šè¿‡æ•°æ®æ¢å¤å·¥å…·åˆ›å»º'
        };

        users.push(newUser);
        localStorage.setItem('userList', JSON.stringify(users));

        // åˆ›å»ºåˆå§‹å……å€¼è®°å½•
        if (accountBalance > 0) {
          const rechargeRecords = JSON.parse(localStorage.getItem('rechargeRecords') || '[]');
          const newRechargeId = rechargeRecords.length > 0 ? Math.max(...rechargeRecords.map(r => r.id)) + 1 : 1;
          
          rechargeRecords.push({
            id: newRechargeId,
            customerId: newId,
            customerName: customerName,
            type: 'customer',
            amount: accountBalance.toFixed(5),
            method: 'initial',
            status: 'success',
            createTime: Date.now(),
            remark: 'åˆ›å»ºè´¦æˆ·åˆå§‹é‡‘é¢'
          });
          
          localStorage.setItem('rechargeRecords', JSON.stringify(rechargeRecords));
        }

        document.getElementById('createResult').innerHTML = `
          <div class="alert alert-success" style="margin-top: 15px;">
            âœ… <strong>è´¦æˆ·åˆ›å»ºæˆåŠŸï¼</strong>
            <br>å®¢æˆ·ID: ${newId}
            <br>ç™»å½•è´¦å·: <code>${loginAccount}</code>
            <br>ç™»å½•å¯†ç : <code>${loginPassword}</code>
            <br>è´¦æˆ·ä½™é¢: ${accountBalance}
            <br><br>
            <strong>ä¸‹ä¸€æ­¥ï¼š</strong> ç°åœ¨å¯ä»¥ä½¿ç”¨æ­¤è´¦å·å¯†ç ç™»å½•ç³»ç»Ÿäº†
          </div>
        `;
      }

      checkDataStatus();
    }

    // åˆ›å»ºè´¦æˆ·å¹¶æ·»åŠ ç¤ºä¾‹æ•°æ®
    function createWithSampleData() {
      createKL01880V01();
      
      setTimeout(() => {
        // åˆ›å»ºç¤ºä¾‹æ•°æ®åº“è®°å½•
        const dataLibrary = JSON.parse(localStorage.getItem('dataLibrary') || '[]');
        const loginAccount = document.getElementById('loginAccount').value;
        
        const sampleData = [
          {
            id: dataLibrary.length + 1,
            country: 'US',
            countryName: 'ç¾å›½',
            validity: 'within_3_days',
            validityName: '3å¤©å†…',
            totalQuantity: 50000,
            availableQuantity: 50000,
            operators: [
              { name: 'Verizon', count: 20000 },
              { name: 'AT&T', count: 15000 },
              { name: 'T-Mobile', count: 15000 }
            ],
            uploadTime: Date.now(),
            uploadBy: loginAccount,
            status: 'available'
          },
          {
            id: dataLibrary.length + 2,
            country: 'UK',
            countryName: 'è‹±å›½',
            validity: 'within_30_days',
            validityName: '30å¤©å†…',
            totalQuantity: 30000,
            availableQuantity: 30000,
            operators: [
              { name: 'EE', count: 12000 },
              { name: 'Vodafone', count: 10000 },
              { name: 'O2', count: 8000 }
            ],
            uploadTime: Date.now(),
            uploadBy: loginAccount,
            status: 'available'
          }
        ];

        sampleData.forEach(data => dataLibrary.push(data));
        localStorage.setItem('dataLibrary', JSON.stringify(dataLibrary));

        document.getElementById('createResult').innerHTML += `
          <div class="alert alert-success" style="margin-top: 15px;">
            âœ… <strong>ç¤ºä¾‹æ•°æ®å·²æ·»åŠ ï¼</strong>
            <br>å·²åˆ›å»º 2 æ¡æ•°æ®åº“è®°å½•ï¼š
            <ul style="margin-top: 10px;">
              <li>ç¾å›½ - 3å¤©å†… - 50,000æ¡</li>
              <li>è‹±å›½ - 30å¤©å†… - 30,000æ¡</li>
            </ul>
          </div>
        `;

        checkDataStatus();
      }, 500);
    }

    // åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®
    function initializeSystemData() {
      if (!confirm('ç¡®å®šè¦åˆå§‹åŒ–ç³»ç»Ÿæ•°æ®å—ï¼Ÿè¿™å°†åˆ›å»ºé»˜è®¤çš„ä»£ç†å’Œé…ç½®ã€‚')) {
        return;
      }

      // åˆ›å»ºé»˜è®¤ä»£ç†
      const agents = JSON.parse(localStorage.getItem('agentList') || '[]');
      
      if (agents.length === 0) {
        const defaultAgent = {
          id: 1,
          agentName: 'é»˜è®¤ä»£ç†',
          loginAccount: 'agent001',
          loginPassword: '123456',
          agentCode: 'AGENT001',
          parentAgent: '',
          level: 'ä¸€çº§ä»£ç†',
          commission: 10,
          region: 'å…¨å›½',
          email: 'agent001@example.com',
          bindUsers: 0,
          totalCommission: 0,
          monthlyCommission: 0,
          status: 1,
          createTime: Date.now(),
          remark: 'ç³»ç»Ÿé»˜è®¤ä»£ç†'
        };
        
        agents.push(defaultAgent);
        localStorage.setItem('agentList', JSON.stringify(agents));
      }

      document.getElementById('initResult').innerHTML = `
        <div class="alert alert-success" style="margin-top: 15px;">
          âœ… <strong>ç³»ç»Ÿæ•°æ®åˆå§‹åŒ–å®Œæˆï¼</strong>
          <br>å·²åˆ›å»º:
          <ul style="margin-top: 10px;">
            <li>é»˜è®¤ä»£ç†: agent001 (å¯†ç : 123456)</li>
          </ul>
          <br>
          <strong>ä¸‹ä¸€æ­¥ï¼š</strong> ç°åœ¨å¯ä»¥åˆ›å»º KL01880V01 è´¦æˆ·äº†
        </div>
      `;

      checkDataStatus();
    }

    // æ¸…ç©ºæ‰€æœ‰æ•°æ®
    function clearAllData() {
      if (!confirm('âš ï¸ è­¦å‘Šï¼šæ­¤æ“ä½œå°†æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼ŒåŒ…æ‹¬ç”¨æˆ·ã€ä»£ç†ã€è®¢å•ã€æ•°æ®åº“ç­‰ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ')) {
        return;
      }

      if (!confirm('âš ï¸ æœ€åç¡®è®¤ï¼šçœŸçš„è¦æ¸…ç©ºæ‰€æœ‰æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
        return;
      }

      const keys = ['userList', 'agentList', 'dataLibrary', 'orderList', 'rechargeRecords', 'currentUser'];
      keys.forEach(key => localStorage.removeItem(key));

      document.getElementById('initResult').innerHTML = `
        <div class="alert alert-success" style="margin-top: 15px;">
          âœ… <strong>æ‰€æœ‰æ•°æ®å·²æ¸…ç©º</strong>
          <br>å»ºè®®å…ˆåˆå§‹åŒ–ç³»ç»Ÿæ•°æ®ï¼Œç„¶ååˆ›å»ºç”¨æˆ·è´¦æˆ·
        </div>
      `;

      checkDataStatus();
    }

    // æ˜¾ç¤ºæ‰€æœ‰æ•°æ®
    function showAllData() {
      const users = JSON.parse(localStorage.getItem('userList') || '[]');
      const agents = JSON.parse(localStorage.getItem('agentList') || '[]');
      const dataLibrary = JSON.parse(localStorage.getItem('dataLibrary') || '[]');

      let html = '<h3 style="margin-top: 20px;">å®¢æˆ·åˆ—è¡¨</h3>';
      
      if (users.length > 0) {
        html += '<table><tr><th>ID</th><th>å®¢æˆ·åç§°</th><th>ç™»å½•è´¦å·</th><th>å¯†ç </th><th>ä½™é¢</th><th>çŠ¶æ€</th></tr>';
        users.forEach(user => {
          html += `
            <tr>
              <td>${user.id}</td>
              <td>${user.customerName}</td>
              <td><code>${user.loginAccount}</code></td>
              <td><code>${user.loginPassword}</code></td>
              <td>${user.accountBalance || 0}</td>
              <td><span class="status-badge ${user.status === 1 ? 'status-active' : ''}">${user.status === 1 ? 'æ¿€æ´»' : 'åœç”¨'}</span></td>
            </tr>
          `;
        });
        html += '</table>';
      } else {
        html += '<div class="alert alert-info">æš‚æ— å®¢æˆ·æ•°æ®</div>';
      }

      html += '<h3 style="margin-top: 20px;">ä»£ç†åˆ—è¡¨</h3>';
      
      if (agents.length > 0) {
        html += '<table><tr><th>ID</th><th>ä»£ç†åç§°</th><th>ç™»å½•è´¦å·</th><th>å¯†ç </th><th>çŠ¶æ€</th></tr>';
        agents.forEach(agent => {
          html += `
            <tr>
              <td>${agent.id}</td>
              <td>${agent.agentName}</td>
              <td><code>${agent.loginAccount}</code></td>
              <td><code>${agent.loginPassword}</code></td>
              <td><span class="status-badge ${agent.status === 1 ? 'status-active' : ''}">${agent.status === 1 ? 'æ¿€æ´»' : 'åœç”¨'}</span></td>
            </tr>
          `;
        });
        html += '</table>';
      } else {
        html += '<div class="alert alert-info">æš‚æ— ä»£ç†æ•°æ®</div>';
      }

      html += '<h3 style="margin-top: 20px;">æ•°æ®åº“è®°å½•</h3>';
      
      if (dataLibrary.length > 0) {
        html += '<table><tr><th>ID</th><th>å›½å®¶</th><th>æ—¶æ•ˆ</th><th>æ€»æ•°é‡</th><th>å¯ç”¨æ•°é‡</th><th>ä¸Šä¼ äºº</th></tr>';
        dataLibrary.forEach(data => {
          html += `
            <tr>
              <td>${data.id}</td>
              <td>${data.countryName}</td>
              <td>${data.validityName}</td>
              <td>${data.totalQuantity}</td>
              <td>${data.availableQuantity}</td>
              <td><code>${data.uploadBy || '-'}</code></td>
            </tr>
          `;
        });
        html += '</table>';
      } else {
        html += '<div class="alert alert-info">æš‚æ— æ•°æ®åº“è®°å½•</div>';
      }

      document.getElementById('dataDetails').innerHTML = html;
    }

    // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥çŠ¶æ€
    window.onload = function() {
      checkDataStatus();
    };
  </script>
</body>
</html>