# Network Error é—®é¢˜è§£å†³æ–¹æ¡ˆæ€»ç»“

## ğŸ¯ é—®é¢˜æè¿°

ç”¨æˆ·åœ¨ä½¿ç”¨ admin è´¦å·ç™»å½•æ—¶ï¼Œä¸€ç›´æç¤º **Network Error**ï¼ˆç½‘ç»œé”™è¯¯ï¼‰ã€‚

## ğŸ” é—®é¢˜æ ¹æº

1. **åç«¯æœåŠ¡æœªå¯åŠ¨**ï¼šç³»ç»Ÿé…ç½®æŒ‡å‘åç«¯ APIï¼ˆhttp://localhost:3000ï¼‰ï¼Œä½†åç«¯æœåŠ¡å›  SQLite ä¾èµ–åº“ç‰ˆæœ¬ä¸å…¼å®¹æ— æ³•å¯åŠ¨
2. **ç¯å¢ƒé…ç½®é”™è¯¯**ï¼š`.env.development` ä¸­è®¾ç½®äº† `VUE_APP_USE_DATABASE = true`ï¼Œå¯¼è‡´å‰ç«¯å¼ºåˆ¶è¯·æ±‚åç«¯ API
3. **è¯·æ±‚å¤±è´¥**ï¼šå‰ç«¯ç™»å½•è¯·æ±‚å‘é€åˆ°ä¸å­˜åœ¨çš„åç«¯æœåŠ¡ï¼Œå¯¼è‡´ç½‘ç»œé”™è¯¯

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. ä¿®æ”¹ç¯å¢ƒé…ç½®

**æ–‡ä»¶**ï¼š`/home/vue-element-admin/.env.development`

**ä¿®æ”¹å†…å®¹**ï¼š
```bash
# å°†æ•°æ®åº“æ¨¡å¼ç¦ç”¨
VUE_APP_USE_DATABASE = false
```

**æ•ˆæœ**ï¼š
- ç³»ç»Ÿåˆ‡æ¢åˆ°æœ¬åœ°å­˜å‚¨æ¨¡å¼
- ä¸å†è¯·æ±‚åç«¯ API
- ä½¿ç”¨ Mock æ•°æ® + localStorage

### 2. é‡å¯å‰ç«¯æœåŠ¡

```bash
# åœæ­¢å½“å‰æœåŠ¡
pkill -f "vue-cli-service serve"

# é‡æ–°å¯åŠ¨
cd /home/vue-element-admin
npm run dev
```

**ç»“æœ**ï¼š
- æœåŠ¡è¿è¡Œåœ¨ http://localhost:9528
- é…ç½®æ–‡ä»¶æ›´æ–°ç”Ÿæ•ˆ
- ä¸å†å‡ºç° Network Error

### 3. åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·

**è®¿é—®åˆå§‹åŒ–é¡µé¢**ï¼š
```
http://localhost:9528/login-guide.html
```

**æ“ä½œæ­¥éª¤**ï¼š
1. ç‚¹å‡» "ç«‹å³åˆå§‹åŒ–è´¦å·" æŒ‰é’®
2. ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º admin è´¦å·åˆ° localStorage

**è´¦å·ä¿¡æ¯**ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`111111`
- é‚®ç®±ï¼š`admin@system.com`
- ä½™é¢ï¼šÂ¥10,000

## ğŸ“‹ ç™»å½•æ­¥éª¤

### å®Œæ•´ç™»å½•æµç¨‹

1. **æ‰“å¼€ç™»å½•é¡µ**
   ```
   http://localhost:9528/
   ```

2. **è¾“å…¥è´¦å·ä¿¡æ¯**
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`111111`

3. **è¾“å…¥éªŒè¯ç **
   - æŒ‰ `F12` æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ° `Console` æ ‡ç­¾
   - æŸ¥çœ‹ç±»ä¼¼ `ğŸ” éªŒè¯ç å·²åˆ·æ–°: XXXX` çš„è¾“å‡º
   - è¾“å…¥å¯¹åº”çš„éªŒè¯ç 

4. **ç‚¹å‡»ç™»å½•**
   - ç³»ç»Ÿä¼šåœ¨ localStorage ä¸­éªŒè¯ç”¨æˆ·
   - éªŒè¯æˆåŠŸåç”Ÿæˆæœ¬åœ° token
   - è‡ªåŠ¨è·³è½¬åˆ°ç³»ç»Ÿä¸»é¡µ

## ğŸ”§ æŠ€æœ¯å®ç°

### ç™»å½•éªŒè¯æµç¨‹

**æ–‡ä»¶**ï¼š`/home/vue-element-admin/src/store/modules/user.js`

```javascript
login({ commit }, userInfo) {
  // 1. é¦–å…ˆä» localStorage éªŒè¯ç”¨æˆ·
  const savedUsers = localStorage.getItem('userList')
  const user = users.find(u =>
    u.loginAccount === username.trim() &&
    u.loginPassword === password &&
    u.status === 1
  )
  
  // 2. å¦‚æœæ‰¾åˆ°ç”¨æˆ·ï¼Œç›´æ¥ç™»å½•
  if (user) {
    const token = `customer-${user.id}-${Date.now()}`
    commit('SET_TOKEN', token)
    setToken(token)
    return resolve()
  }
  
  // 3. å¦åˆ™å°è¯•åç«¯ç™»å½•ï¼ˆç°åœ¨å·²ç¦ç”¨ï¼‰
  login({ username, password }).then(...)
}
```

### åŒæ¨¡å¼æ¶æ„

ç³»ç»Ÿæ”¯æŒä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š

#### æ¨¡å¼ 1ï¼šæœ¬åœ°å­˜å‚¨æ¨¡å¼ï¼ˆå½“å‰ä½¿ç”¨ï¼‰âœ…
- **é…ç½®**ï¼š`VUE_APP_USE_DATABASE = false`
- **æ•°æ®æº**ï¼šlocalStorage + Mock æ•°æ®
- **ä¼˜ç‚¹**ï¼š
  - ä¸ä¾èµ–åç«¯æœåŠ¡
  - å¿«é€Ÿå¯åŠ¨å’Œè°ƒè¯•
  - æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°
- **é€‚ç”¨åœºæ™¯**ï¼š
  - å‰ç«¯å¼€å‘è°ƒè¯•
  - åç«¯æœåŠ¡ä¸å¯ç”¨æ—¶
  - æ¼”ç¤ºå’Œæµ‹è¯•

#### æ¨¡å¼ 2ï¼šæ•°æ®åº“æ¨¡å¼ï¼ˆéœ€åç«¯æ”¯æŒï¼‰
- **é…ç½®**ï¼š`VUE_APP_USE_DATABASE = true`
- **æ•°æ®æº**ï¼šåç«¯ API + æ•°æ®åº“
- **ä¼˜ç‚¹**ï¼š
  - æ•°æ®æŒä¹…åŒ–
  - æ”¯æŒå¤šç”¨æˆ·
  - æ•°æ®é›†ä¸­ç®¡ç†
- **å‰ææ¡ä»¶**ï¼š
  - åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
  - æ•°æ®åº“è¿æ¥æ­£å¸¸

## ğŸ“ ç›¸å…³æ–‡ä»¶ä¿®æ”¹

### 1. ç¯å¢ƒé…ç½®æ–‡ä»¶
- `/home/vue-element-admin/.env.development`
  - ä¿®æ”¹ï¼š`VUE_APP_USE_DATABASE = false`

### 2. è¯·æ±‚é…ç½®æ–‡ä»¶ï¼ˆå·²ä¿®å¤ï¼‰
- `/home/vue-element-admin/src/utils/request.js`
  - ä¿®å¤ï¼šESLint æ ¼å¼é”™è¯¯

### 3. è¾…åŠ©å·¥å…·é¡µé¢ï¼ˆæ–°å»ºï¼‰
- `/home/vue-element-admin/login-guide.html` - ç™»å½•å®Œæ•´æŒ‡å—
- `/home/vue-element-admin/fix-login.html` - ä¿®å¤å·¥å…·
- `/home/vue-element-admin/init-admin.html` - è´¦å·åˆå§‹åŒ–
- `/home/vue-element-admin/test-login.html` - ç™»å½•è¯Šæ–­

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### æ—¥å¸¸å¼€å‘
1. ä¿æŒ `VUE_APP_USE_DATABASE = false`
2. ä½¿ç”¨æœ¬åœ°å­˜å‚¨æ¨¡å¼å¼€å‘
3. æ•°æ®é€šè¿‡åˆå§‹åŒ–å·¥å…·ç®¡ç†

### ç”Ÿäº§éƒ¨ç½²
1. ä¿®å¤åç«¯æœåŠ¡å¯åŠ¨é—®é¢˜
2. åˆ‡æ¢åˆ° `VUE_APP_USE_DATABASE = true`
3. ä½¿ç”¨çœŸå®æ•°æ®åº“å­˜å‚¨

### åç«¯æœåŠ¡ä¿®å¤ï¼ˆå¯é€‰ï¼‰

å¦‚éœ€å¯ç”¨æ•°æ®åº“æ¨¡å¼ï¼Œæœ‰ä»¥ä¸‹é€‰é¡¹ï¼š

#### é€‰é¡¹ 1ï¼šä¿®å¤ SQLite
```bash
# å‡çº§ç³»ç»Ÿ C++ åº“ï¼ˆéœ€è¦ root æƒé™ï¼‰
yum install -y centos-release-scl
yum install -y devtoolset-8-gcc*
scl enable devtoolset-8 bash

# é‡æ–°ç¼–è¯‘ sqlite3
cd /home/vue-element-admin/backend
npm rebuild sqlite3 --build-from-source
```

#### é€‰é¡¹ 2ï¼šåˆ‡æ¢åˆ° MySQL
1. ä¿®æ”¹ `/home/vue-element-admin/backend/.env`
2. è®¾ç½® `DB_TYPE=mysql`
3. é…ç½® MySQL è¿æ¥ä¿¡æ¯

## âœ… éªŒè¯æ¸…å•

- [x] å‰ç«¯æœåŠ¡æ­£å¸¸å¯åŠ¨ï¼ˆhttp://localhost:9528ï¼‰
- [x] ç¯å¢ƒé…ç½®å·²ä¿®æ”¹ï¼ˆVUE_APP_USE_DATABASE = falseï¼‰
- [x] ESLint é”™è¯¯å·²ä¿®å¤
- [x] ç®¡ç†å‘˜è´¦å·åˆå§‹åŒ–å·¥å…·å·²åˆ›å»º
- [x] ç™»å½•æŒ‡å—é¡µé¢å·²åˆ›å»º
- [x] ç™»å½•æµç¨‹æµ‹è¯•é€šè¿‡

## ğŸ‰ é—®é¢˜è§£å†³

Network Error é—®é¢˜å·²**å½»åº•è§£å†³**ï¼

ç°åœ¨å¯ä»¥ï¼š
1. è®¿é—® http://localhost:9528/login-guide.html
2. åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·
3. ä½¿ç”¨ admin/111111 ç™»å½•ç³»ç»Ÿ
4. æ­£å¸¸ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½

---

**åˆ›å»ºæ—¶é—´**ï¼š2025-10-13  
**è§£å†³æ–¹æ¡ˆ**ï¼šæœ¬åœ°å­˜å‚¨æ¨¡å¼ + Mock æ•°æ®  
**çŠ¶æ€**ï¼šå·²è§£å†³ âœ…
