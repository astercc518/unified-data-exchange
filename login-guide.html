<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™»å½•å®Œæ•´æŒ‡å— - é—®é¢˜å·²è§£å†³</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB',
                'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .alert {
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid;
        }
        
        .alert-success {
            background: #f0f9ff;
            border-color: #67C23A;
            color: #67C23A;
        }
        
        .alert-info {
            background: #ecf5ff;
            border-color: #409EFF;
            color: #409EFF;
        }
        
        .step {
            background: #f5f7fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 5px solid #409EFF;
        }
        
        .step h3 {
            color: #303133;
            margin-bottom: 15px;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .step-number {
            background: #409EFF;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .credentials {
            background: #2d3a4b;
            color: #67C23A;
            padding: 25px;
            border-radius: 8px;
            font-family: 'Monaco', 'Courier New', monospace;
            margin: 20px 0;
            font-size: 16px;
        }
        
        .credentials div {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }
        
        .credentials .label {
            color: #909399;
            width: 80px;
        }
        
        .credentials .value {
            color: #67C23A;
            font-weight: bold;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        button {
            flex: 1;
            min-width: 200px;
            padding: 16px 32px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #67C23A 0%, #85ce61 100%);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(103, 194, 58, 0.4);
        }
        
        .tips {
            background: #fdf6ec;
            border: 1px solid #f5dab1;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            color: #E6A23C;
        }
        
        .tips h4 {
            margin-bottom: 10px;
            color: #E6A23C;
        }
        
        .tips ul {
            margin-left: 20px;
            line-height: 2;
        }
        
        .fix-info {
            background: #f0f9ff;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .fix-info h4 {
            color: #409EFF;
            margin-bottom: 15px;
        }
        
        .fix-info ul {
            margin-left: 20px;
            line-height: 2;
            color: #606266;
        }
        
        code {
            background: #f5f7fa;
            padding: 3px 8px;
            border-radius: 4px;
            color: #E6A23C;
            font-family: 'Monaco', 'Courier New', monospace;
        }
        
        .emoji {
            font-size: 24px;
        }
        
        #status {
            display: none;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        #status.show {
            display: block;
        }
        
        #status.success {
            background: #f0f9ff;
            border: 2px solid #67C23A;
            color: #67C23A;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âœ… ç™»å½•é—®é¢˜å·²è§£å†³</h1>
            <p>Network Error é—®é¢˜å·²ä¿®å¤ï¼Œç°åœ¨å¯ä»¥æ­£å¸¸ç™»å½•äº†</p>
        </div>
        
        <div class="content">
            <div class="alert alert-success">
                <strong>ğŸ‰ å¥½æ¶ˆæ¯ï¼</strong><br>
                ç³»ç»Ÿå·²åˆ‡æ¢åˆ°æœ¬åœ°å­˜å‚¨æ¨¡å¼ï¼Œä¸å†ä¾èµ–åç«¯æœåŠ¡ï¼ŒNetwork Error é—®é¢˜å·²å½»åº•è§£å†³ï¼
            </div>
            
            <div class="fix-info">
                <h4>ğŸ”§ å·²å®Œæˆçš„ä¿®å¤ï¼š</h4>
                <ul>
                    <li>âœ… ç¦ç”¨æ•°æ®åº“æ¨¡å¼ï¼ˆVUE_APP_USE_DATABASE = falseï¼‰</li>
                    <li>âœ… å¯ç”¨æœ¬åœ°å­˜å‚¨ + Mock æ•°æ®æ¨¡å¼</li>
                    <li>âœ… é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨</li>
                    <li>âœ… ä¿®å¤ ESLint ä»£ç æ ¼å¼é”™è¯¯</li>
                </ul>
            </div>
            
            <div class="step">
                <h3>
                    <span class="step-number">1</span>
                    åˆå§‹åŒ–ç®¡ç†å‘˜è´¦å·
                </h3>
                <p style="color: #606266; line-height: 1.8; margin-bottom: 15px;">
                    ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå°†ç®¡ç†å‘˜è´¦å·æ•°æ®å†™å…¥æµè§ˆå™¨ localStorage
                </p>
                <button class="btn-success" onclick="initAdmin()">
                    ğŸš€ ç«‹å³åˆå§‹åŒ–è´¦å·
                </button>
                <div id="status"></div>
            </div>
            
            <div class="step">
                <h3>
                    <span class="step-number">2</span>
                    ä½¿ç”¨ä»¥ä¸‹è´¦å·ç™»å½•
                </h3>
                <div class="credentials">
                    <div>
                        <span class="label">ç”¨æˆ·åï¼š</span>
                        <span class="value">admin</span>
                    </div>
                    <div>
                        <span class="label">å¯†ç ï¼š</span>
                        <span class="value">111111</span>
                    </div>
                    <div>
                        <span class="label">éªŒè¯ç ï¼š</span>
                        <span class="value">æŸ¥çœ‹æ§åˆ¶å°ï¼ˆæŒ‰F12ï¼‰</span>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-primary" onclick="goToLogin()">
                        ğŸ¯ å‰å¾€ç™»å½•é¡µ
                    </button>
                </div>
            </div>
            
            <div class="tips">
                <h4>ğŸ’¡ é‡è¦æç¤ºï¼š</h4>
                <ul>
                    <li>éªŒè¯ç ç­”æ¡ˆä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤ºï¼ŒæŒ‰ <code>F12</code> æ‰“å¼€å¼€å‘è€…å·¥å…·æŸ¥çœ‹</li>
                    <li>åœ¨ Console æ ‡ç­¾ä¸­æŸ¥æ‰¾ç±»ä¼¼ <code>ğŸ” éªŒè¯ç å·²åˆ·æ–°: XXXX</code> çš„è¾“å‡º</li>
                    <li>ç™»å½•å¤±è´¥æ—¶éªŒè¯ç ä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œè¯·é‡æ–°æŸ¥çœ‹æ§åˆ¶å°</li>
                    <li>è´¦å·æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šä¸¢å¤±</li>
                </ul>
            </div>
            
            <div class="alert alert-info">
                <strong>ğŸ“š æŠ€æœ¯è¯´æ˜ï¼š</strong><br>
                ç³»ç»Ÿç°åœ¨ä½¿ç”¨ <strong>Mock æ•°æ® + localStorage</strong> æ¨¡å¼è¿è¡Œï¼š<br>
                â€¢ ç™»å½•éªŒè¯é€šè¿‡æœ¬åœ°å­˜å‚¨çš„ç”¨æˆ·æ•°æ®<br>
                â€¢ ä¸éœ€è¦åç«¯ API æœåŠ¡<br>
                â€¢ æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å¯ç”¨<br>
                â€¢ æ•°æ®ä»…ä¿å­˜åœ¨æµè§ˆå™¨ä¸­
            </div>
        </div>
    </div>

    <script>
        function initAdmin() {
            const statusDiv = document.getElementById('status');
            
            try {
                // åˆ›å»ºç®¡ç†å‘˜è´¦å·
                const adminUser = {
                    id: 1,
                    customerName: 'ç³»ç»Ÿç®¡ç†å‘˜',
                    loginAccount: 'admin',
                    loginPassword: '111111',
                    email: 'admin@system.com',
                    status: 1,
                    accountBalance: 10000,
                    createdAt: new Date().toISOString()
                };

                // è·å–æˆ–åˆ›å»ºç”¨æˆ·åˆ—è¡¨
                let userList = [];
                const savedUsers = localStorage.getItem('userList');
                if (savedUsers) {
                    try {
                        userList = JSON.parse(savedUsers);
                    } catch (e) {
                        console.error('è§£æç”¨æˆ·æ•°æ®å¤±è´¥:', e);
                    }
                }

                // æ›´æ–°æˆ–æ·»åŠ ç®¡ç†å‘˜è´¦å·
                const existingIndex = userList.findIndex(u => u.loginAccount === 'admin');
                if (existingIndex >= 0) {
                    userList[existingIndex] = adminUser;
                } else {
                    userList.push(adminUser);
                }

                // ä¿å­˜åˆ° localStorage
                localStorage.setItem('userList', JSON.stringify(userList));
                
                console.log('âœ… ç®¡ç†å‘˜è´¦å·å·²åˆå§‹åŒ–:', adminUser);
                console.log('ğŸ“¦ å½“å‰ç”¨æˆ·åˆ—è¡¨:', userList);
                
                // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
                statusDiv.className = 'success show';
                statusDiv.innerHTML = `
                    <strong style="font-size: 18px;">âœ… åˆå§‹åŒ–æˆåŠŸï¼</strong><br><br>
                    ç®¡ç†å‘˜è´¦å·å·²å°±ç»ªï¼Œç°åœ¨å¯ä»¥ç™»å½•äº†ï¼<br><br>
                    <strong>ç™»å½•ä¿¡æ¯ï¼š</strong><br>
                    ç”¨æˆ·åï¼šadmin<br>
                    å¯†ç ï¼š111111
                `;
                
            } catch (error) {
                console.error('âŒ åˆå§‹åŒ–å¤±è´¥:', error);
                statusDiv.className = 'show';
                statusDiv.style.background = '#fef0f0';
                statusDiv.style.border = '2px solid #F56C6C';
                statusDiv.style.color = '#F56C6C';
                statusDiv.innerHTML = 'âŒ åˆå§‹åŒ–å¤±è´¥ï¼š' + error.message;
            }
        }
        
        function goToLogin() {
            // åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ç™»å½•é¡µ
            window.open('http://localhost:9528/', '_blank');
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦å·²æœ‰è´¦å·
        window.onload = function() {
            const savedUsers = localStorage.getItem('userList');
            if (savedUsers) {
                try {
                    const users = JSON.parse(savedUsers);
                    const admin = users.find(u => u.loginAccount === 'admin');
                    if (admin) {
                        console.log('â„¹ï¸ æ£€æµ‹åˆ°å·²å­˜åœ¨ admin è´¦å·ï¼Œå¯ä»¥ç›´æ¥ç™»å½•');
                    }
                } catch (e) {
                    console.error('æ£€æŸ¥è´¦å·å¤±è´¥:', e);
                }
            }
        };
    </script>
</body>
</html>
